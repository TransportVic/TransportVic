-
    let distinctBusServices = busServices.map(service => service.fullService).filter((e, i, a) => a.indexOf(e) === i);
    let busServiceTypes = {
        metro: 'Metropolitian',
        telebus: 'TeleBus'
    };
    
for trainStation in trainStations
    a.trainStation.result
        div.leftContainer
            img(src='/static/images/metro-icon.svg')
        div.resultDetails
            span=trainStation.stationName

for serviceNumber in distinctBusServices
    - let service = busServices.filter(svc => svc.fullService === serviceNumber);
    
    a.busService.result
        div(class='leftContainer ' + service[0].operators[0].toLowerCase().replace(/[^\w]/g, '-'))
            span.serviceNumber=service[0].serviceNumber
            span.serviceVariant=service[0].serviceVariant
        div.resultDetails.routeDetails
            if service[0].serviceType === 'telebus'
                span='TeleBus Area ' + service[0].serviceVariant
            else
                
                span=busServiceTypes[service[0].serviceType] + ' Bus Service ' + service[0].fullService
                if service.length === 2
                    span=`${service[0].destination} - ${service[1].destination}`
                else
                    span=`${service[0].destination}`

for busStop in busStops
    a(href=`/bus/timings/${busStop.gtfsBusStopCodes[0]}`).busStop.result
        div.leftContainer
            img(src='/static/images/bus-icon.svg')
        div.resultDetails
            span=busStop.busStopName
